<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>KCSOC</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/black.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />

    <!-- Custom styling and tweaks -->
    <link rel="stylesheet" href="out/revealjs-starter.css" />

    <script src="js/reveal.js"></script>
    <!-- Plugins -->
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <!-- from: https://github.com/hschne/reveal.js-starter -->
    <style>
      @keyframes colorchange {
        from{
          filter: hue-rotate(0deg);
        }
        to{
          filter: hue-rotate(359deg);
        }
      }
      .slide-background-content-animate{
        animation-name: colorchange;
        animation-duration: 30s;
        animation-iteration-count: infinite;
        animation-timing-function: linear;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- <section 
          data-markdown="index.md"
          data-background-video="./img/bg.mp4"
          data-background-video-loop
          data-background-video-muted
          data-separator-vertical="---"
          data-separator="---NEW SLIDE---"
        ></section> -->
        <section 
          data-markdown="index.md"
          data-background-image="./img/bg.gif"
          data-separator-vertical="---"
          data-separator="---NEW SLIDE---"
        ></section>
      </div>
    </div>
    <script>
      Reveal.configure({
        // keyboard: {
        //   40: "next",
        //   38: "prev",
        // },
      });
      Reveal.initialize({
        hash: true,
        transition: "none",
        history: "true",
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });

      // settimeout 
      setTimeout(function () {
        let els = document.getElementsByClassName("slide-background-content")
        for (el of els) {
          el.classList.add("slide-background-content-animate")
        }
      }, 1000);
      let enabled = true;
      window.addEventListener("keydown", function (event) {
        if (event.defaultPrevented) {
          return; // Do nothing if the event was already processed
        }
        switch (event.key) {
          case "c":
            if (enabled) {
              console.log("disabling color-change")
              let els = document.getElementsByClassName("slide-background-content")
              for (el of els) {
                el.classList.remove("slide-background-content-animate")
              }
              enabled = false;
            } else {
              console.log("enabling color-change")
              let els = document.getElementsByClassName("slide-background-content")
              for (el of els) {
                el.classList.add("slide-background-content-animate")
              }
              enabled = true;
            }
            break;
          default:
            return; // Quit when this doesn't handle the key event.
        }

        // Cancel the default action to avoid it being handled twice
        event.preventDefault();
      }, true);
    </script>
  </body>
</html>
